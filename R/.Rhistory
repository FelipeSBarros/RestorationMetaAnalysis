rfinal <- raster("../soilCEC_30cm_250m.tif")
# Cation exchange capacity of soil in cmolc/kg on four different soil depth (0,5,15,30 cm)
# install.packages("raster")
library(raster)
rfinal <- raster("../soilCEC_30cm_250m.tif")
rfinal
library(rgdal)
buffer <- readOGR("../Data", "Buffer_example.geojson")
buffer <- readOGR("../Data", "Buffer_example")
buffer <- readOGR("../Data", "Buffer_example", "GEOJson")
buffer <- readOGR("../Data/Buffer_example.geojson", "Buffer_example")
plot(buffer)
# Open Soil CEC to have statistics taken
rfinal <- raster("../soil_CEC_30cm_1km.tif")
library(raster)
?raster
buffer
buffer@bbox[1,]
buffer@bbox
buffer@bbox[1,2]
buffer@bbox[2,2]
# Open Soil CEC to have statistics taken
rfinal <- raster("../soil_CEC_30cm_1km.tif", xmn = buffer@bbox[1,1], xmx = buffer@bbox[1,2], ymn = buffer@bbox[2,1], ymx = buffer@bbox[2,2])
plot(rfinal)
rfinal
extent(buffer)
rfinal <- raster("../soil_CEC_30cm_1km.tif", ext = extent(buffer))
plot(rfinal, maxpixels = 5000)
# Open Soil CEC to have statistics taken
rfinal <- raster("../soil_CEC_30cm_1km.tif")
rfinal <- crop(rfinal, buffer)
plot(rfinal, maxpixels = 5000)
plot(buffer, add=T)
# Taking statistics
?overlay
# Taking statistics
?zonal
zonal(rfinal, buffer, fun = 'mean', na.rm = TRUE)
extract(rfinal, buffer, fun = 'mean', na.rm = TRUE)
extract(rfinal, buffer, fun = mean, na.rm = TRUE)
buffer@data
buffer@data$MeanCEC
buffer@data$MeanCEC <- extract(rfinal, buffer, fun = mean, na.rm = TRUE)
buffer@data$MeanCEC
buffer@data
extract(rfinal, buffer, fun = mean, na.rm = FALSE)
extract(rfinal, buffer, fun = mean, na.rm = TRUE)
extract(rfinal, buffer, fun = min, na.rm = TRUE)
rfinal
# Open Soil CEC to have statistics taken
rfinal <- raster("../soil_CEC_30cm_1km.tif")
extract(rfinal, buffer, fun = min, na.rm = TRUE)
rfinal <- crop(rfinal, buffer)
rfinal <- mask(rfinal, buffer)
plot(rfinal, maxpixels = 5000)
plot(buffer, add=T)
# Open Soil CEC to have statistics taken
cec <- raster("../soil_CEC_30cm_1km.tif")
cec <- crop(cec, buffer)
cec <- mask(cec, buffer)
plot(cec, maxpixels = 5000)
plot(buffer, add=T)
extract(cec, buffer, fun = min, na.rm = TRUE)
extract(cec, buffer, fun = mean, na.rm = TRUE)
# Open OppCost
opp <- raster("../opportunity_costs_4.9km_Molweide.tif")
opp
# Open OppCost
opp <- raster("../opportunity_costs_4.9km_Molweide.tif")
opp <- crop(opp, buffer)
opp <- mask(opp, buffer)
plot(opp, maxpixels = 5000)
opp
buffer
# Open OppCost
opp <- raster("../opportunity_costs_4.9km_Molweide.tif")
opp
plot(opp, maxpixels = 5000)
?projectRaster
opp <- projectRaster(opp, crs(buffer), bethod = "ngb")
# Open OppCost
opp <- raster("../opportunity_costs_4.9km_Molweide.tif")
opp <- projectRaster(opp, buffer, bethod = "ngb")
crs(opp)
bufferPrj <- spTransform(buffer, crs(opp))
opp <- crop(opp, bufferPrj)
opp <- mask(opp, bufferPrj)
plot(opp, maxpixels = 5000)
plot(bufferPrj, add=T)
extract(opp, bufferPrj, fun = mean, na.rm = TRUE)
plot(opp)
plot(bufferPrj, add=T)
plot(opp)
plot(bufferPrj, add=T)
cec
# Open Soil CEC to have statistics taken
cec <- raster("../soil_CEC_30cm_1km.tif")
cec
# Open buffer example
buffer <- readOGR("../Data/Buffer_example.geojson", "Buffer_example")
plot(buffer)
# Open Soil CEC to have statistics taken
cec <- raster("../soil_CEC_30cm_1km.tif")
cec <- crop(cec, buffer)
cec <- mask(cec, buffer)
plot(cec, maxpixels = 5000)
plot(buffer, add=T)
extract(cec, buffer, fun = mean, na.rm = TRUE)
buffer@data$MeanCEC <-
extract(cec, buffer, fun = mean, na.rm = TRUE)
extract(cec, buffer, fun = mean, na.rm = FALSE)
library(rgdal)
library(raster)
# Open buffer example
buffer <- readOGR("../Data/Buffer_example.geojson", "Buffer_example")
plot(buffer)
# Open buffer example
buffer <- readOGR("../Data/Buffer_validation.geojson", "Buffer_validation")
plot(buffer)
# Open Soil CEC to have statistics taken
cec <- raster("../soil_CEC_30cm_1km.tif")
cec <- crop(cec, buffer)
cec <- mask(cec, buffer)
plot(cec, maxpixels = 5000)
plot(buffer, add=T)
buffer@data
library(rgdal)
library(raster)
# Open buffer example
buffer <- readOGR("../Data/Buffer_validation.geojson", "Buffer_validation")
buffer
# Open buffer example
buffer <- readOGR("../Data/Buffer_validation.geojson", "Buffer_validation")
# Open buffer example
buffer <- readOGR("../Data/Buffer_validation.geojson", "Buffer_validation")
plot(buffer)
GEEstats <- read.csv("../Data/CECstats.csv")
GEEstats
GEEstats <- read.csv("../Data/CECstats.csv")[,c(2,3)]
GEEstats
# Open Soil CEC to have statistics taken
cec <- raster("../soil_CEC_30cm_1km.tif")
cec <- crop(cec, buffer)
cec <- mask(cec, buffer)
plot(cec, maxpixels = 5000)
plot(buffer, add=T)
buffer@data$R_MeanCEC
buffer@data
extract(cec, buffer, fun = mean, na.rm = TRUE)
extract(cec, buffer, fun = sd, na.rm = TRUE)
GEEstats
library(raster)
library(rgdal)
library(pander)
knitr::opts_chunk$set(echo = TRUE, message = FALSE)
library(rgdal)
library(raster)
library(pander)
library(mapview)
buffer <- readOGR("../Data/Buffer_validation.geojson", "Buffer_validation")
mapview(buffer, axes=TRUE)
?mapview
mapviewGetOption("basemaps")
mapviewGetOption("basemaps")[3]
mapview(buffer, axes=TRUE, map.types = mapviewGetOption("basemaps")[3])
GEEstats <- read.csv("../Data/CECstats.csv")[,c(2,3)]
plot(cec, maxpixels = 5000)
# Open Soil CEC to have statistics taken
cec <- raster("../soil_CEC_30cm_1km.tif")
# Open Soil CEC to have statistics taken
cec <- raster("../soil_CEC_30cm_1km.tif")
cec <- crop(cec, buffer)
cec <- mask(cec, buffer)
mapview(cec, maxpixels = 5000)
mapview(cec, maxpixels = 5000, burst = TRUE)
mapview(buffer, axes=TRUE, map.types = mapviewGetOption("basemaps")[3])
mapview(cec, maxpixels = 5000, burst = TRUE)
mapview(cec, maxpixels = 5000)
mapview(buffer, axes=TRUE, map.types = mapviewGetOption("basemaps")[3], burst = TRUE)
mapview(buffer, axes=TRUE, map.types = mapviewGetOption("basemaps")[3])
# Open Soil CEC to have statistics taken
cec <- raster("../soil_CEC_30cm_1km.tif")
cec <- crop(cec, buffer)
cec <- mask(cec, buffer)
# Taking statistics
extract(cec, buffer, fun = mean, na.rm = TRUE)
extract(cec, buffer, fun = sd, na.rm = TRUE)
# Taking statistics
statsR <- data.frame()
extract(cec, buffer, fun = mean, na.rm = TRUE)
statsR$CECmean <- extract(cec, buffer, fun = mean, na.rm = TRUE)
statsR
rm(statsR)
statsR
# Taking statistics
statsR$CECmean <- extract(cec, buffer, fun = mean, na.rm = TRUE)
# Taking statistics
statsR <- extract(cec, buffer, fun = mean, na.rm = TRUE)
statsR
extract(cec, buffer, fun = sd, na.rm = TRUE)
GEEstats
GEEstats <- read.csv("../Data/CECstats.csv")[,c(2,3)]
GEEstats
read.csv("../Data/CECstats.csv")[,c(2,3)]
GEEstats <- read.csv("../Data/CECstats.csv")[,c(2,3)]
GEEstats
View(GEEstats)
extract(cec, buffer, fun = sd, na.rm = TRUE)
statsR[1,2] <- extract(cec, buffer, fun = sd, na.rm = TRUE)
statsR
statsR[1,
2]
statsR[1,
]
# Taking statistics
statsR <- matrix()
statsR[1,1] <- extract(cec, buffer, fun = mean, na.rm = TRUE)
statsR
statsR[1,2] <- extract(cec, buffer, fun = sd, na.rm = TRUE)
# Taking statistics
statsR <- matrix(1,2)
statsR
# Taking statistics
statsR <- matrix(2,1)
statsR
# Taking statistics
statsR <- matrix(1,1)
statsR
?matrix
# Taking statistics
statsR <- ?matrix(data = NA, 1,1)
# Taking statistics
?data.frame
# Taking statistics
statsR <- ?matrix(data = NA, 1,2)
statsR
# Taking statistics
statsR <- matrix(data = NA, 1,2)
statsR
statsR[1,1] <- extract(cec, buffer, fun = mean, na.rm = TRUE)
statsR[1,2] <- extract(cec, buffer, fun = sd, na.rm = TRUE)
statsR
# Taking statistics
statsR <- matrix(data = NA, 1,3)
statsR[1,1] <- 'Site 1'
statsR[1,1] <- extract(cec, buffer, fun = mean, na.rm = TRUE)
statsR[1,1] <- 'Site 1'
statsR[1,2] <- extract(cec, buffer, fun = mean, na.rm = TRUE)
statsR[1,3] <- extract(cec, buffer, fun = sd, na.rm = TRUE)
statsR
pander(statsR)
as.data.frame(statsR)
statsR <- as.data.frame(statsR)
pander(statsR)
names(statsR)
names(statsR) <- c("Study site", "CEC_Mean", "CEC_sd")
pander(statsR)
# Taking statistics
statsR <- matrix(data = NA, 1,3)
statsR[1,1] <- 'Site 269'
statsR[1,2] <- extract(cec, buffer, fun = mean, na.rm = TRUE)
statsR[1,3] <- extract(cec, buffer, fun = sd, na.rm = TRUE)
statsR <- as.data.frame(statsR)
names(statsR) <- c("Study site", "CEC_Mean", "CEC_sd")
GEEstats <- read.csv("../Data/CECstats.csv")[,c(2,3)]
GEEstats
GEEstats$StudySite <- "Site 269"
write.csv(statsR, "CEC_Rstats.csv", row.names = FALSE)
Rstats <- read.csv("CEC_Rstats.csv")
Rstats
View(Rstats)
names(statsR)
names(statsR) <- c("Studysite", "CEC_Mean", "CEC_sd")
names(statsR)
names(statsR) <- c("StudySite", "CEC_Mean", "CEC_sd")
names(statsR)
write.csv(statsR, "CEC_Rstats.csv", row.names = FALSE)
GEEstats <- read.csv("../Data/CECstats.csv")[,c(2,3)]
pander(GEEstats)
# reading stats taken from Google Earth Engine
GEEstats <- read.csv("../Data/CECstats.csv")[,c(2,3)]
pander(GEEstats)
# reading stats taken from R
Rstats <- read.csv("CEC_Rstats.csv")
pander(statsR)
GEEstats$SudySite <- "Site 269"
pander(GEEstats[,c(3,1,2)])
# reading stats taken from R
Rstats <- read.csv("CEC_Rstats.csv")
pander(statsR)
pander(round(statsR,2)
)
# reading stats taken from R
Rstats <- read.csv("CEC_Rstats.csv")
Rstats
pander(statsR)
# reading stats taken from Google Earth Engine
GEEstats <- read.csv("../Data/CECstats.csv")[,c(2,3)]
GEEstats$SudySite <- "Site 269"
GEEstats
class(statsR)
?pander
GEEstats[,c(3,1,2)]
GEEstats <- GEEstats[,c(3,1,2)]
Rstats <- read.csv("./CEC_Rstats.csv")
rbind(GEEstats,Rstats)
pander(GEEstats)
pander(Rstats)
